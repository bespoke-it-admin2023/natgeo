(self.webpackChunknatgeo=self.webpackChunknatgeo||[]).push([[6753],{89277:(e,t,a)=>{var n,l=a(85893),i=(a(67294),a(45697)),s=a(50239),r=a(84967),o=a(21800),c=a(3896),d=a(94184),u=a(71911),m=a(83978),p=a(29643),y=a(5075),_=a(26278),g=_.getCountry,h=a(27361),v=a(64721),x=s.empty,w=s.emptyObj,k=[],b=s.isFunc,f=s.passThru,S=s.TRUE,j=s.FALSE,N=s.NULL,E=s.cbool,P=r.evtCancel,T=r.qsa,C=a(91983),I=a(71549),M=a(86818),F="paywall.family.subscribers",O="paywall click",A="roadblock",L={event_name:"paywall impressions",paywall_type:A},B=["us"],D=_.getLoginValueCookie;a(41439),(n=c({componentDidMount:function(){var e=(this.props||w).autoplayVideo;b(e)&&e()},displayName:"PaywallModal",launchSignIn:function(e){var t=h(this,"context.guest.disneyInstance",w).launchIdentityFlow;P(e),b(t)&&t()},setFocusOnInputButton:function(){var e=T(".PaywallModal__Button--input-button",S);e&&e.focus()},render:function(){var e=this,t=e.props||w,a="6247ae7c-403a-4aef-9a26-f73b6e9d81ed"===t.contentPackageId,n=t.heading,i=t.description,s=t.campaignName,r=t.cta||w,c=r.text,y=r.url,_=h(e,"context.guest.entitlements")||t.entitlements||k,b=!x(_),P=t.isActive,T=E(D())||t.isLoggedIn||!1,R=h(e,"context.translate",f),G=L,H=d("PaywallModal__Body",{"PaywallModal__Body--family":a}),U=g(),W=t.disableModal,Y=P,z=v(B,U)||j;return s&&(G=o({},L,{campaign_name:s,paywall_title:n,paywall_subtitle:i,cta_text:c,paywall_cta_url:y})),W&&(Y=!1),l.jsx(m,{trackValues:G,disableViewTracking:!0,children:l.jsx(C,{className:"PaywallModal",setFocus:e.setFocusOnInputButton,shouldHavePointerEvents:j,open:Y,ariaLabel:n,children:l.jsxs(I,{children:[l.jsxs("div",{className:H,children:[n&&l.jsx("h3",{className:"PaywallModal__Heading",children:n}),i&&l.jsx("p",{className:"PaywallModal__Description",children:i}),c&&y&&l.jsx("div",{className:"PaywallModal__Button",children:l.jsx(p,{"data-track-event_name":O,"data-track-paywall_type":A,"data-track-campaign_name":s,"data-track-paywall_title":n,"data-track-paywall_subtitle":i,"data-track-cta_text":c,"data-track-paywall_cta_url":y,children:l.jsxs(u,{className:"PaywallModal__Button--input-button",href:y,size:"lg",children:[" ",l.jsx(p,{className:"PaywallModal__Button--input-button-track","data-track-event_name":O,"data-track-paywall_type":A,"data-track-campaign_name":s,"data-track-event_detail":"CTA_button_click","data-track-paywall_title":n,"data-track-paywall_subtitle":i,"data-track-cta_text":c,"data-track-paywall_cta_url":y,children:c})]})})})]}),a&&z||!a?l.jsxs("div",{className:"PaywallModal__Footer",children:[!T&&l.jsxs("div",{className:"PaywallModal__SignIn",children:[l.jsx("p",{className:"PaywallModal__SignIn--text",children:R(a?F:"paywall.already.subscriber")}),l.jsx(p,{"data-track-event_name":"oneid action","data-track-event_detail":"oneid modal displayed",children:l.jsx(u,{className:"PaywallModal__SignIn--link",onClick:e.launchSignIn,unStyled:S,children:R("paywall.signin")})})]}),T&&!b&&l.jsxs("div",{className:"PaywallModal__TextNote",children:[l.jsx("p",{className:"PaywallModal__TextNote--text",children:R(a?F:"paywall.magazine.subscribers")}),l.jsx(M,{className:"PaywallModal__TextNote--link",to:"/subscribe/link-subscription",children:R(a?"paywall.family.link.subscription":"paywall.link.subscription")})]})]}):N]})})})}})).displayName="PaywallModal",n.defaultProps={isActive:S},n.contextTypes={guest:i.object,translate:i.func},n.propTypes={heading:i.string,description:i.string,cta:i.object,textNote:i.string,isActive:i.bool},e.exports=y(n)},43170:(e,t,a)=>{e.exports=a(89277)},15580:(e,t,a)=>{var n=a(38416),l=a(85893);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r,o=a(67294),c=a(45697),d=a(3896),u=a(94184),m=a(84967),p=a(50239),y=a(5902),_=a(65535),g=a(32940),h=a(10637),v=a(64663),x=a(14718),w=a(94042).isEmail,k=a(64535),b=a(71911),f=a(86818),S=a(21800),j=a(27361),N=a(38169),E=a(63105),P=a(41609),T=a(35161),C=a(84486),I=a(26278),M=I.getLoginValueCookie,F=I.getCountry,O=I.getFreemiumCookie,A=I.setFreemiumCookie,L=a(359),B=a(19495),D=L.COMMON_ANALYTICS.CUSTOM_EVENT,R=a(24660).getOneIDMetadataMap,G=a(29426),H=G.NEWSLETTER_EMITTERS.POLICY_BUILT,U=G.NEWSLETTER_NAME,W=U.NATGEO_ALL_NEWSLETTERS,Y=U.DEFAULT_CAMPAIGN,z="",V=p.emptyObj,q=p.emptyAry,K=p.TRUE,J=p.FALSE,Q=p.noop,X=p.strlc,Z=p.cbool,$=p.empty,ee=p.getGlobal,te=B.loc,ae=ee(),ne=p.first,le=m.css,ie=m.qsa,se=(new(a(66568))).MOBILE[1],re="freemium",oe="context.analytics",ce="context.guest.disneyInstance",de="freemium account creation",ue="premium roadblock",me="".concat("paywall"," click"),pe=x.PROP_NAMES.PAGE_TYPE,ye="props.".concat(pe),_e="close",ge="privacyCopy",he="li",ve="100%",xe="fixed",we="natgeo",ke="0",be="#mask",fe="Thank you for signing up. Look for National Geographic in your inbox soon!";a(99039);var Se=a(47505);function je(e,t,a,n){var l=this;l.campaignId=e,l.email=t,l.marketing=a,l.legal=n}(r=d({displayName:"Slider",render:function(){var e,t,a,n,i,r,o=this,c=o.props||V,d=o.state||V,m=d.scrolled,p=d.emailAddress,y=d.policy,_=d.formSuccess,h=d.viewFreemium,x=d.inputError,S=o.setFreemiumCookie,E="us"!==F(),P="uk"===F()||"gb"===F(),T=j(o,ce)||c.testInstance,C=m,I=c.windowWidth<=se,O=c.heading||z,A=c.description||z,L=c.cta||V,B=c.mbleHdr,D=c.ftrTxt,R=E?fe:c.scsMsg||fe,G=c.sldrTyp,H=c.marketingCampaign,U=c.ftrCta||V,W=U.useOneID,Y=U.text||z,q=U.url||"#",ee=L.text||z,te=Z(M()),ae=u("Slider",{"Slider--scrolled":C}),ne=u("Slider__InnerContainer",{"Slider__InnerContainer--scrolled":C}),le=o.trackLink||Q,ie={className:"Slider__ExpandedButton",label:ee,inverse:K},oe={className:"Slider__FooterLink"},pe={event_name:me,paywall_type:G===re?de:ue,campaign_name:H},ye=o.createLinkTracking(ee,pe),ge=o.createLinkTracking(Y,pe);return m&&!h&&o.lockPage(),i=function(e){o.setState({emailAddress:e.target.value})},r=function(e){var t=w(X(p));e.preventDefault(),!E&&t?(o.newsletterSignup(),o.trackLink(ye,J,null)):E?(T.on("opt-in",o.setSuccess),o.trackLink(ye,K,null,J,K)):o.setState({inputError:!t})},oe.onClick=W?N(le,null,ge,K,K):N(le,null,ge,J,q),te||(a=l.jsxs("div",{className:"Slider__UnAuthenticatedContainer",children:[l.jsx("div",{className:"Slider__FooterText",children:D}),l.jsx(f,s(s({"aria-label":Y},oe),{},{children:Y}))]})),I&&B&&(e=l.jsx("div",{className:"Slider__MobileHeader",children:B})),t=E?l.jsx("form",{onSubmit:r,children:l.jsx("div",{className:"Slider__InputGroup",children:l.jsx(k,s({},ie))})}):l.jsx("form",{onSubmit:r,children:l.jsxs("div",{className:"Slider__InputGroup",children:[l.jsxs("div",{className:"Slider__InputRow",children:[x&&l.jsx("div",{className:"Slider__ErrorText",children:"Please enter a valid email address"}),l.jsx("label",{htmlFor:"emailAddressField",children:"Email Address"}),l.jsx(v,{className:"Slider__EmailAddressField",id:"emailAddressField",placeholder:"Enter your email",type:"text",value:p,onChange:i})]}),l.jsx(k,s({},ie)),l.jsx("div",{className:"Slider__Policy",children:y})]})}),n=l.jsxs("div",{className:ne,children:[P?l.jsx(b,{className:"Slider__Close",icon:_e,onClick:S,"aria-label":_e,unStyled:!0}):null,_?l.jsx("div",{children:l.jsx(Se,{className:"Slider__Success",text:R,element:"h2"})}):l.jsxs(l.Fragment,{children:[e,l.jsx("h1",{className:"Slider__ExpandedHeader",children:O}),l.jsx("div",{className:"Slider__ExpandedSubHeader",children:A}),l.jsxs("div",{className:"Form__Container",children:[t,a]})]})]}),h||$(T)?null:l.jsx(g,{children:l.jsx("div",{className:"Slider__Container",children:l.jsx("div",{className:ae,ref:o.sliderElementRef,children:n})})})},componentDidMount:function(){var e=this,t=e.props||V,a=null==e?void 0:e.state,n=(null==a?void 0:a.policy)||z,i=t.disableSlider,s=Z(O())||i,r=e.resizeForSlider,o="us"!==F(),c=j(e,ce,V);s&&e.setState({viewFreemium:!0}),y.on(H,(function(t,a,n,l){e.setState({policy:a,legal:n,marketing:l}),r()})),P(c)||o||!P(n)||c.getInlineNewsletters(Y).then((function(t){var a=t.data||V,n=a.legal,i=(ne(n)||V).content||z,s=a.marketing,r=T(s,(function(e){var t=e||V;return{code:t.code,content:t.content}})),o=function(e,t){var a=e||q,n=(ne(a)||V).content||z,i=[];return a.length>1?(C(a,(function(e,t){var a=(e||V).content;a&&i.push(l.jsx(Se,{text:a,element:he},t))})),t&&i.push(l.jsx(Se,{text:t,element:he},ge))):i.push(l.jsx(Se,{text:"".concat(n," ").concat(t),element:he},ge)),i}(r,i);e.setState({legal:n,marketing:r,policy:o})})),r()},getInitialState:function(){return{scrolled:!1,isActive:!1,formSuccess:!1,viewFreemium:!1,inputError:!1,emailAddress:"",policy:z}},resizeForSlider:function(){var e=j(this,ye),t=j(this,"sliderElementRef.current.clientHeight",0),a=(ae.document||V).getElementsByClassName("GlobalFooter"),n=ne(a),l=n&&n.style,i=ie("body",K);"interactive"===e?l&&(l.position="relative",l.bottom=ke,l.paddingBottom="".concat(t,"px")):le(i,"margin-bottom:".concat(t,"px"))},componentDidUpdate:function(e){var t=this,a=t.state||V,n=j(t,oe,V).track||Q,l=a.scrolled,i=a.viewFreemium,s=t.props||V,r=s.marketingCampaign,o=s.sldrTyp===re?de:ue,c=t.resizeForSlider,d=s.windowWidth||0,u=e.windowWidth||0,m=d<=se,p=u<=se,y=j(t,"props.windowScrollY"),_=e.windowScrollY,g=j(t,ce);$(g)||y===_||!_||l||i||(t.setState({scrolled:!0}),n(D,{event_name:"paywall impressions",campaign_name:r,paywall_type:o})),m!==p&&c()},createLinkTracking:function(e,t){var a={};return $(t)||(a=S({},t,{event_detail:X(e)})),a},trackLink:function(e,t,a,n,l){var i=this,s=j(i,"context.guest.disneyInstance.launchIdentityFlow",Q),r=j(i,"context.guest.disneyInstance.launchNewsletters",Q),o=j(i,oe,V).track||Q;$(e)||o(D,e),t?(o(D,{event_name:"oneid action",event_detail:"oneid modal displayed"}),n&&s(),l&&r(Y)):a&&m.loc(a)},setSuccess:function(){var e=this,t=(e.props||V).marketingCampaign,a=j(e,oe,V),n="uk"===F()||"gb"===F();(a.track||Q)(D,{event_name:me,campaign_name:t,paywall_type:de,event_detail:"sign up:success"}),e.setState({formSuccess:K}),n?e.setFreemiumCookie(6e3):e.setFreemiumCookie(3e3)},newsletterSignup:function(){var e,t,a=this,n=a.props||V,l=a.state||V,i=l.emailAddress,s=j(a,"props.mrktngMeta",V),r=l.legal,o=l.marketing,c=n.analytics,d=n.meta,u=(te()||V).params,m=E(o,{subscribed:K}),p=j(a,ce);$(p)||(e=new je(W,i,m,r),t=R(s,c,d,u),p.setInlineNewsletters(e,t).then((function(e){a.setSuccess()})).catch((function(e){var t=e||V;console.error(t)})))},lockPage:function(){var e=ae.document||V,t=e.getElementById(we),a=e.createElement("div"),n=e.getElementsByClassName("Slider--scrolled"),l=ne(n),i=t.querySelector(be),s=e.documentElement;s&&(s.scrollTop=0),e&&e.body&&e.body.style&&(e.body.style.width=ve),a&&a.style&&(a.style.position=xe,a.style.top=ke,a.style.left=ke,a.style.width=ve,a.style.height=ve,a.style.background="linear-gradient(to bottom, rgba(0, 0, 0, 0.2) 20%, rgba(0, 0, 0, 0.8))",a.style.zIndex="500",a.setAttribute("id","mask")),t&&t.style&&(t.style.position=xe,t.style.overflow="hidden",t.style.height=ve,t.style.width=ve,i||t.appendChild(a)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&l&&(l.style.overscrollBehaviorY="contain")},unLockPage:function(){var e=ae.document||V,t=e.getElementById(we),a=t.querySelector(be);t&&t.style&&(t.style.position=null,t.style.overflow=null,t.style.height=null,t.style.width=null,t.removeChild(a)),e&&e.body&&e.body.style&&(e.body.style.marginBottom=ke)},setFreemiumCookie:function(e){var t=this,a=ae.location||V;A(K),setTimeout((function(){t.setState({viewFreemium:!0}),t.unLockPage(),a&&a.reload()}),e)},sliderElementRef:o.createRef()})).propTypes={windowWidth:c.number,heading:c.string,description:c.string,cta:c.object,mbleHdr:c.string,footerText:c.string,isAuthed:c.bool},r.contextTypes={analytics:c.object,guest:c.object,translate:c.func},e.exports=h(_(r,{breakpoint:["DESKTOP","MOBILE"]}),{windowScrollY:K})},98976:(e,t,a)=>{e.exports=a(15580)},41439:(e,t,a)=>{"use strict";a.r(t)},99039:(e,t,a)=>{"use strict";a.r(t)}}]);